@{ 
    Layout = null;
}
@model PagedList.IPagedList<PayrollSystem.Models.Employee>
@using PagedList.Mvc;
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>AdminLTE 2 | Dashboard</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.7 -->
    <link rel="stylesheet" href="@Url.Content("~/AdminLTE/bower_components/bootstrap/dist/css/bootstrap.min.css")">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="@Url.Content("~/AdminLTE/bower_components/font-awesome/css/font-awesome.min.css")">
    <!-- Ionicons -->
    <link rel="stylesheet" href="@Url.Content("~/AdminLTE/bower_components/Ionicons/css/ionicons.min.css")">
    <!-- Theme style -->
    <link rel="stylesheet" href="@Url.Content("~/AdminLTE/dist/css/AdminLTE.min.css")">
    <!-- AdminLTE Skins. Choose a skin from the css/skins
         folder instead of downloading all of them to reduce the load. -->
    <link rel="stylesheet" href="@Url.Content("~/AdminLTE/dist/css/skins/_all-skins.min.css")">
    <!-- Morris chart -->
    <link rel="stylesheet" href="@Url.Content("~/AdminLTE/bower_components/morris.js/morris.css")">
    <!-- jvectormap -->
    <link rel="stylesheet" href="@Url.Content("~/AdminLTE/bower_components/jvectormap/jquery-jvectormap.css")">
    <!-- Date Picker -->
    <link rel="stylesheet" href="@Url.Content("~/AdminLTE/bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css")">
    <!-- Daterange picker -->
    <link rel="stylesheet" href="@Url.Content("~/AdminLTE/bower_components/bootstrap-daterangepicker/daterangepicker.css")">
    <!-- bootstrap wysihtml5 - text editor -->
    <link rel="stylesheet" href="@Url.Content("~/AdminLTE/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css")">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Google Font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
    <link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <table class="table table-striped table-bordered">
        <tr>
            <th>ID NO</th>
            <th>FIRST NAME</th>
            <th>LAST NAME</th>
            <th>FROM</th>
            <th>TO</th>
            <th></th>
        </tr>
        @foreach (var item in Model)
            {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.ID)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Firstname)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Lastname)
                </td>
                <td>
                  09/01/2018
                </td>
                <td>
                    09/15/2018
                </td>
                <td><button class="btn btn-xs btn-success remove-details-container"><i class="glyphicon glyphicon-pencil"></i></button></td>
            </tr>
        }
    </table>
    <div class="box-footer-payroll-list">
        Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) of @Model.PageCount

        @Html.PagedListPager(Model, page => Url.Action("Index",
 new { page, sortOrder = ViewBag.CurrentSort, currentFilter = ViewBag.CurrentFilter }))
    </div>

    <script>

        function payrollListPagination(page) {

            var url = "@Url.Action("PayrollList", "PartialView")";
            $.ajax({
                url: url,
                type: "POST",
                data: { page: page },
                success: function (html) {
                    $(".parent-payroll-list").html(html);
                    console.log(html);
                }
            });
        }

        $(document).ready(function () {
            $("body").on("click", ".box-footer-payroll-list li", function (e) {
                e.preventDefault();
                var page = $(this).text();
                payrollListPagination(page);

            });
        });
    </script>
</body>
</html>

    

