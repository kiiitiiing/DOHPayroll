<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Asnaui O. Pangcatan">
    <title>@ViewBag.Title</title>


    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/modernizr")

    <style>
        .remove-padding-top
        {
          padding-top:0px;
          padding-bottom:0px;
        }
         .box
        {
          border-radius:0px;
        }
         .selected
        {
          background:rgb(215, 215, 215);
          color:black;
        }
        .parent 
        {
          position: relative;
        }
        .child 
        {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
        }
    </style>
   
</head>
<body class="hold-transition skin-blue sidebar-mini remove-padding-top">
    <div class="wrapper">
        <header class="main-header">
            
            <a href="index2.html" class="logo">
                
                <span class="logo-mini"><b>PS</b></span>
                
                <span class="logo-lg"><b>Payroll System</b></span>
            </a>
            
            <nav class="navbar navbar-static-top">
                
                <a href="#" class="sidebar-toggle" data-toggle="push-menu" role="button">
                    <span class="sr-only">Toggle navigation</span>
                </a>
            </nav>
        </header>
    
        <aside class="main-sidebar">
        
            <section class="sidebar">
           
                <div class="user-panel">
                    <div class="pull-left image">
                      <img src="@Url.Content("~/Images/doh.png")" class="img-circle" alt="User Image"> 
                    </div>
                    <div class="pull-left info">
                        <p style="margin:auto">Alexander Pierce</p>
                    </div>
                </div>
               
                <ul class="sidebar-menu" data-widget="tree">
                    <li class="header">MAIN NAVIGATION</li>
                    <li class="treeview">
                        <a href="#">
                            <i class="fa fa-user"></i> <span>JOB ORDER</span>
                            <span class="pull-right-container">
                                <i class="fa fa-angle-left pull-right"></i>
                            </span>
                        </a>
                        <ul class="treeview-menu menu-jo">
                            <li class="active"><a href="@Url.Action("JobOrder","Home",new { id = 0})">ATM CARD</a></li>
                            <li class="active"><a href="@Url.Action("JobOrder","Home",new { id = 1})">CASH CARD</a></li>
                            <li class="active"><a href="@Url.Action("JobOrder","Home",new { id = 2})">W/O LBP CARD</a></li>
                            <li class="active"><a href="@Url.Action("JobOrder","Home",new { id = 3})">UNDER VTF</a></li>
                        </ul>
                    </li>
                    <li class="menu-regular">
                        <a href="@Url.Action("Regular","Home")">
                            <i class="fa fa-user"></i>
                            <span>REGULAR</span>
                        </a>
                    </li>
                    <li class="menu-report">
                        <a href="@Url.Action("Index","Report")">
                            <i class="glyphicon glyphicon-file"></i>
                            <span>GENERATE REPORT</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <i class="glyphicon glyphicon-credit-card"></i>
                            <span>CASHIER</span>
                        </a>   
                    </li>
                    <li>
                        <a href="#">
                            <i class="glyphicon glyphicon-off"></i>
                            <span>SIGNOUT</span>
                        </a>
                    </li>
                </ul>
            </section>
          
        </aside>
     
        <div class="content-wrapper" style="padding:10px;">
            @RenderBody()
        </div>
        
 
        <div class="control-sidebar-bg"></div>
    </div>


    @Scripts.Render("~/bundles/admin-lte/js")
    @RenderSection("scripts", required: false)
    <script>
        $(document).ready(function () {
            $(".textarea").wysihtml5();

            $('.input-data').keypress(function (event) {
                return isNumber(event, this)
            });

            $(".menu-jo li").click(function (e) {
                var flag = $(".jo_title").text();
                if (flag === "") {
                    return;
                }
                e.preventDefault();
                var title = $(this).text();
                $(".jo_title").text("Job Order - " + title);

                var search_value = $("#search_value").val();
                loadJoEmployee(getPageId(), 1, search_value);
            });

            $(".menu-regular").click(function (e) {
                
            });

            $(".menu-report").click(function (e) {

            });
        });

        function getPageId() {
            var flag = $(".jo_title").text();
            switch (flag) {
                case "Job Order - ATM":
                    return 0;
                case "Job Order - CASH CARD":
                    return 1;
                case "Job Order - W/O LBP CARD":
                    return 2;
                case "Job Order - UNDER VTF":
                    return 3;
                default:
                    return 0;
            }

        }

        function loadJoEmployee(id,page,search) {

            var url = "@Url.Action("JobOrderList", "PartialView")";
            $(".jo-employee-list").html("Loading employee ....");
            $.ajax({
                url: url,
                type: "POST",
                data: {
                    id: id,
                    page: page,
                    search: search
                },
                success: function (html) {
                    $(".jo-employee-list").empty().html(html);
                }
            });
        }

        function loadRegularEmployee(page,search) {

            var url = "@Url.Action("RegularList", "PartialView")";
            $(".regular-employee-list").html("Loading employee ....");
            $.ajax({
                url: url,
                type: "POST",
                data: {
                    page: page,
                    search: search
                },
                success: function (html) {
                    $(".regular-employee-list").empty().html(html);
                }
            });
        }

        function removeItem(name, array_date) {

            return array_date;
        }

        function removeComma(number) {
            number = number.toString().replace(",", "");
            return number;
        }

        function formatComma(number) {
            number = number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            return number;
        }

        function daysInMonth(month, year) {
            return new Date(year, month, 0).getDate();
        }

        function roundOff(number) {
            number = (Math.round((parseFloat(number) + 0.00001) * 100) / 100)
            return parseFloat(number).toFixed(2);
        }
        function isNumber(evt, element) {

            var charCode = (evt.which) ? evt.which : event.keyCode

            if (
                (charCode != 45 || $(element).val().indexOf('-') != -1) &&      // “-” CHECK MINUS, AND ONLY ONE.
                (charCode != 46 || $(element).val().indexOf('.') != -1) &&      // “.” CHECK DOT, AND ONLY ONE.
                (charCode < 48 || charCode > 57))
                return false;

            return true;
        }

    </script>

</body>
</html>
